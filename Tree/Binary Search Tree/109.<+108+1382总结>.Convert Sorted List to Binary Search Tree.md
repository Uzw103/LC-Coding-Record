\#

\# @lc app=leetcode id=109 lang=python3

\#

\# [109] Convert Sorted List to Binary Search Tree

\#

### ==Solution:==

1. <u>108çš„inputæ˜¯arrayï¼Œ109æ˜¯Linklist</u>ï¼Œä¸èƒ½ç›´æ¥äºŒåˆ†å–listä¸­å…ƒç´ ï¼ˆå› ä¸ºè¿˜æœ‰nextæŒ‡é’ˆï¼‰ã€‚
2. 1382çš„æ„é€ Treeæ–¹æ³•åŒ108ï¼Œåªæ˜¯è¿˜è¦åšä¸€æ­¥inorderå¾—åˆ°inputçš„list
3. 109åšæ³•ï¼š
   	1. **ç”¨å¿«æ…¢æŒ‡é’ˆ**ã€‚fastä¸€æ¬¡ä¸¤æ­¥ï¼Œslowä¸€æ¬¡ä¸€æ­¥ï¼Œfaståˆ°å°¾åslowä¸€å®šå°±æ˜¯listä¸­é—´çš„å€¼ï¼Œæ”¾å…¥äºŒåˆ†åˆ›å»ºTreeã€‚åŒ108
    	2. åˆ›å»ºğŸŒ²çš„æ—¶å€™ç›´æ¥**æ ¹æ®linklistçš„headè¾¹ç§»åŠ¨è¾¹åˆ›å»º**ã€‚å› æ­¤è¦å…ˆåˆ°treeçš„æœ€å·¦ç«¯ï¼Œå¾€ä¸Šå›æº¯åˆ›å»ºBST

\# @lc code=start

\# Definition for singly-linked list.

\# class ListNode:

\#     def __init__(self, val=0, next=None):

\#         self.val = val

\#         self.next = next

\# Definition for a binary tree node.

\# class TreeNode:

\#     def __init__(self, val=0, left=None, right=None):

\#         self.val = val

\#         self.left = left

\#         self.right = right

```python
'''bottom to up '''
class Solution:
	def __init__(self):
        self.head = None
    def sortedListToBST(self, head: ListNode) -> TreeNode:
        length, self.head = 0, head
        while head:
            head = head.next
            length += 1
        return self.buildBST(0, length - 1)
    def buildBST(self, left, right):
        if left > right:
            return None
        mid = (left + right) // 2
        leftnode = self.buildBST(left, mid - 1)
        root = TreeNode(self.head.val)
        self.head = self.head.next
        root.left = leftnode
        root.right = self.buildBST(mid + 1, right)
        return root
```

```python
'''åŒæŒ‡é’ˆå–ä¸­é—´ å†äºŒåˆ†åˆ›å»º'''
class Solution:
	def sortedListToBST(self, head: ListNode) -> TreeNode:
        def findmid(left, right):
            slow, fast = left, left
            while fast != right and fast.next != right: #å› ä¸ºæ¯æ¬¡ä¼ è¿›æ¥çš„listéƒ½ä¸åŒï¼Œæ‰€ä»¥è¦è®¾ç½®ä¸¤ä¸ªä¼ å…¥å‚æ•°
                fast = fast.next.next
                slow = slow.next
            return slow
        '''è¿™ä¸ªéå†listæ¯æ¬¡é€’å½’éƒ½è¦éå†ä¸€æ¬¡åŸlistæ‰¾ä¸­ç‚¹'''
        def buildBST(left, right):
            if left == right:
                return None
            mid = findmid(left, right) #ç›¸å½“äºå†åˆ›å»ºä¸€ä¸ªå‡½æ•°è¿›è¡ŒäºŒåˆ†æ“ä½œ è¿”å›çš„æ˜¯ä¸€ä¸ªå¸¦æŒ‡é’ˆçš„ç»“ç‚¹
            root = TreeNode(mid.val)
            root.left = buildBST(left, mid)
            root.right = buildBST(mid.next, right)
            return root
        return buildBST(head, None)
            
```



